<?xml version="1.0" encoding="utf-8"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <link name="base_link">
    <inertial>
      <origin xyz="0.00833874816499919 -0.279077054212109 0.0969206110047688" rpy="0 0 0" />
      <mass value="0.959376616454135" />
      <inertia ixx="0.0473874018414225" ixy="0.000967383566303133" ixz="-0.00202463511196186" iyy="0.0217914844676848" iyz="0.0096878756095832" izz="0.0272970887496823" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/base_link.STL" />
      </geometry>
      <material name="">
        <color rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link name="Rotary">
    <inertial>
      <origin xyz="2.77555756156289E-17 -5.55111512312578E-17 0.038" rpy="0 0 0" />
      <mass value="0.251327412287183" />
      <inertia ixx="0.000223513845327402" ixy="9.45007218889529E-37" ixz="6.54556654792952E-20" iyy="0.000223513845327402" iyz="4.9904894759554E-21" izz="0.000412176956150981" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Rotary.STL" />
      </geometry>
      <material name="">
        <color rgba="0.988235294117647 0.737254901960784 0.517647058823529 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Rotary.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="Rotary_01" type="revolute">
    <origin xyz="0 0 0" rpy="0 0 0" />
    <parent link="base_link" />
    <child link="Rotary" />
    <axis xyz="0 0 -1" />
    <limit lower="0" upper="6.28" effort="0" velocity="0" />
  </joint>
  <link name="Object">
    <inertial>
      <origin xyz="2.77555756156289E-17 0.168941868486735 5.55111512312578E-17" rpy="0 0 0" />
      <mass value="1.3042637377211" />
      <inertia ixx="0.0126478393068709" ixy="1.00870779683775E-19" ixz="-6.87396719944702E-21" iyy="0.000970983132029972" iyz="-4.88598836990954E-20" izz="0.0128804210141608" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/model_HD_final.dae" />
      </geometry>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/model_HD_final.dae" />
      </geometry>
    </collision>
  </link>
  <joint name="Object_01" type="fixed">
    <origin xyz="0 0 0.12" rpy="1.5708 0 0" />
    <parent link="Rotary" />
    <child link="Object" />
    <axis xyz="0 0 0" />
    <limit lower="0" upper="0" effort="0" velocity="0" />
  </joint>
  <link name="Slider_Z">
    <inertial>
      <origin xyz="-0.0124484536082473 0.0147422680412372 -0.394728532376571" rpy="0 0 0" />
      <mass value="0.1164" />
      <inertia ixx="8.08174680412371E-05" ixy="3.65984536082474E-05" ixz="7.97951153231329E-21" iyy="9.25273907216494E-05" iyz="-1.05832972613831E-20" izz="0.000125034458762887" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Slider_Z.STL" />
      </geometry>
      <material name="">
        <color rgba="1 0.501960784313725 0.501960784313725 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Slider_Z.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="Slider_Z_01" type="prismatic">
    <origin xyz="0.04 -0.4 0.6" rpy="0 0 0" />
    <parent link="base_link" />
    <child link="Slider_Z" />
    <axis xyz="0 0 1" />
    <limit lower="-0.05" upper="0.35" effort="10" velocity="1"/>
  </joint>
  <link name="Slider_R">
    <inertial>
      <origin xyz="-0.00143480135383284 -0.0181595318290608 -1.38777878078145E-16" rpy="0 0 0" />
      <mass value="0.509453378308361" />
      <inertia ixx="0.00851193097402251" ixy="-3.09521133749386E-05" ixz="2.34482356248724E-20" iyy="0.000224610078729296" iyz="-1.83907303380894E-18" izz="0.00837436554362702" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Slider_R.STL" />
      </geometry>
      <material name="">
        <color rgba="1 1 0.501960784313725 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Slider_R.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="Slider_R_01" type="prismatic">
    <origin xyz="-0.06 0.06 -0.39473" rpy="0 0 0" />
    <parent link="Slider_Z" />
    <child link="Slider_R" />
    <axis xyz="0 1 0" />
    <limit lower="-0.12" upper="0.06" effort="3" velocity="1" />
  </joint>
  <link name="Endeffector">
    <inertial>
      <origin xyz="0.00783388245707059 0.0140640103376689 0.00654126076679107" rpy="0 0 0" />
      <mass value="0.0755198882536019" />
      <inertia ixx="4.10837807770956E-05" ixy="-5.53744520464905E-07" ixz="8.30959739058937E-07" iyy="9.99579373969263E-05" iyz="-4.62374477328725E-07" izz="6.14142156970571E-05" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Endeffector.STL" />
      </geometry>
      <material name="">
        <color rgba="0.988235294117647 0.737254901960784 0.517647058823529 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Endeffector.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="Tilt_01" type="revolute">
    <origin xyz="0.005 0.15675 0" rpy="3.1416 -0.67204 1.5708" />
    <parent link="Slider_R" />
    <child link="Endeffector" />
    <axis xyz="0 -1 0" />
    <limit lower="-1.57" upper="1.57" effort="0.7" velocity="1.0" />
  </joint>
  <link name="Camera">
    <inertial>
      <origin xyz="-2.77555756156289E-17 0.01 -1.11022302462516E-16" rpy="0 0 0" />
      <mass value="0.016" />
      <inertia ixx="1.06666666666667E-06" ixy="-2.65605339546051E-22" ixz="-7.63658280225003E-22" iyy="2.66666666666667E-06" iyz="-2.11758236813575E-22" izz="2.66666666666667E-06" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="${-pi} 0 ${pi/2}" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Camera.STL" />
      </geometry>
      <material name="">
        <color rgba="0.250980392156863 0.250980392156863 0.250980392156863 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/Camera.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="Fixed" type="fixed">
    <origin xyz="0 0.015 0.07" rpy="${pi} ${-pi/2} 0" />
    <parent link="Endeffector" />
    <child link="Camera" />
    <axis xyz="0 0 0" />
  </joint>
  <link name="LP">
    <inertial>
      <origin xyz="5.55111512312578E-17 0.00500000000000006 5.55111512312578E-17" rpy="0 0 0" />
      <mass value="0.024" />
      <inertia ixx="3.4E-06" ixy="1.92810651581189E-21" ixz="2.85494790517523E-21" iyy="1.04E-05" iyz="7.41153828847513E-21" izz="7.4E-06" />
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/LP.STL" />
      </geometry>
      <material name="">
        <color rgba="0.501960784313725 0.501960784313725 0.501960784313725 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <mesh filename="package://cam_auto_adjusting/meshes/LP.STL" />
      </geometry>
    </collision>
  </link>
  <joint name="Fixed_02" type="fixed">
    <origin xyz="0.08 0.015 0" rpy="-1.5708 0 1.5708" />
    <parent link="Endeffector" />
    <child link="LP" />
    <axis xyz="0 0 0" />
  </joint>

  <link name="camera_link_optical"></link>
  <joint name="camera_optical_joint" type="fixed">
    <origin xyz="0 0 0" rpy="${-pi/2} 0 ${-pi/2}" />
    <parent link="Camera"/>
    <child link="camera_link_optical"/>
  </joint>

  <gazebo>
    <plugin filename="gz-sim-sensors-system" name="gz::sim::systems::Sensors">
      <render_engine>ogre2</render_engine>
    </plugin>
  </gazebo>

  <gazebo reference="Camera">
    <sensor name="camera" type="camera">
      <camera>
        <horizontal_fov>2</horizontal_fov>
        <image>
          <width>1280</width>
          <height>720</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>15</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
        <optical_frame_id>camera_link_optical</optical_frame_id>
        <camera_info_topic>camera/camera_info</camera_info_topic>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>true</visualize>
      <topic>camera/image_raw</topic>
    </sensor>
  </gazebo>
</robot>